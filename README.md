# مستندات پروژه: تبدیل ساختار پوشه به JSON

## توضیحات
این اسکریپت پایتون به منظور اسکن یک دایرکتوری و تبدیل محتوای فایل‌های متنی آن به یک فایل JSON طراحی شده است. این اسکریپت فایل‌های متنی (مانند `.py`، `.js` و `.jsx`) را شناسایی کرده و محتوای آن‌ها را در یک ساختار JSON ذخیره می‌کند، در حالی که فایل‌ها و دایرکتوری‌های مشخص شده در فایل نادیده گرفته می‌شوند.

## قابلیت‌ها
- اسکن دایرکتوری‌ها و زیرپوشه‌ها برای یافتن فایل‌های متنی.
- نادیده گرفتن فایل‌ها و دایرکتوری‌ها بر اساس الگوهای تعریف‌شده در متغیر `IGNORE_TEXT`.
- تبدیل ساختار پوشه به یک فایل JSON با ساختار تو در تو.
- ذخیره خروجی در فایل `project_prompt.json`.

## پیش‌نیازها
- پایتون نسخه ۳.۶ یا بالاتر
- کتابخانه‌های مورد نیاز:
  - `pathspec` (برای پردازش الگوهای نادیده گرفتن)
  - کتابخانه‌های استاندارد پایتون: `os`، `json`، `pathlib`

### نصب کتابخانه‌ها
برای نصب کتابخانه `pathspec`، دستور زیر را اجرا کنید:
```bash
pip install pathspec
```

## نحوه استفاده
1. اسکریپت را در دایرکتوری مورد نظر خود ذخیره کنید.
2. اطمینان حاصل کنید که فایل‌های متنی با پسوندهای مشخص‌شده (مانند `.py`، `.js`، `.jsx`) در دایرکتوری یا زیرپوشه‌ها وجود دارند.
3. اسکریپت را اجرا کنید:
   ```bash
   python script.py
   ```
4. فایل `project_prompt.json` در دایرکتوری جاری ایجاد خواهد شد که حاوی ساختار تو در تو و محتوای فایل‌های متنی است.

## ساختار فایل JSON خروجی
خروجی یک فایل JSON با ساختار تو در تو است که در آن:
- کلیدها نشان‌دهنده مسیرهای نسبی فایل‌ها هستند.
- مقادیر محتوای فایل‌های متنی هستند.

مثال:
```json
{
  "folder1/file1.py": "محتوای فایل ۱",
  "folder1/subfolder/file2.js": "محتوای فایل ۲"
}
```

## الگوهای نادیده گرفتن
فایل‌ها و دایرکتوری‌هایی که با الگوهای تعریف‌شده در متغیر `IGNORE_TEXT` مطابقت داشته باشند، نادیده گرفته می‌شوند. این الگوها شامل موارد زیر هستند:
- دایرکتوری‌های `__pycache__`، `venv`، `.git` و غیره.
- فایل‌های موقت مانند `*.pyc`، `*.log`، `.DS_Store`.
- سایر الگوهای مشخص‌شده در متغیر `IGNORE_TEXT`.

## نکات
- در حال حاضر، اسکریپت فقط فایل‌هایی با پسوندهای `.py`، `.js` و `.jsx` را به عنوان فایل متنی در نظر می‌گیرد.
- در صورت بروز خطا در خواندن یک فایل (مانند عدم دسترسی یا مشکل رمزگذاری)، خطا در خروجی چاپ می‌شود و اسکریپت به پردازش ادامه می‌دهد.
- برای افزودن پسوندهای جدید به لیست فایل‌های متنی، متغیر `TEXT_EXTENSIONS` را ویرایش کنید.

## محدودیت‌ها
- فایل‌های غیرمتنی (مانند تصاویر یا فایل‌های باینری) پردازش نمی‌شوند.
- در صورت وجود مشکلات رمزگذاری در فایل‌های متنی، ممکن است خطاهایی رخ دهد.

## توسعه‌دهندگان
این اسکریپت به صورت متن‌باز ارائه شده و می‌توانید آن را بر اساس نیازهای خود تغییر دهید. برای افزودن قابلیت‌های جدید یا گزارش باگ، لطفاً با ما تماس بگیرید.